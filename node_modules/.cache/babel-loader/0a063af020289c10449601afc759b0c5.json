{"ast":null,"code":"import _defineProperty from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/src/components/auth/Profile.js\";\nimport React, { Component } from 'react';\nimport authService from '../../services/auth-service';\nimport { withAuthConsumer } from '../../contexts/AuthStore';\nimport imagesAvatar from '../../data/imagesAvatar';\nvar avatar = Object.values(imagesAvatar);\nvar validations = {\n  name: function name(value) {\n    var message;\n\n    if (!value) {\n      message = 'Name is required';\n    }\n\n    return message;\n  },\n  surname: function surname(value) {\n    var message;\n\n    if (!value) {\n      message = 'Surname is required';\n    }\n\n    return message;\n  }\n};\n\nvar Profile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Profile, _Component);\n\n  function Profile() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Profile)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      user: {\n        name: _this.props.user.name,\n        surname: _this.props.user.name,\n        imageURL: _this.props.user.imageURL\n      },\n      errors: {\n        name: validations.name(),\n        surname: validations.surname()\n      },\n      touch: {}\n    };\n\n    _this.handleChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState({\n        user: _objectSpread({}, _this.state.user, _defineProperty({}, name, value)),\n        errors: _objectSpread({}, _this.state.errors, _defineProperty({}, name, validations[name] && validations[name](value)))\n      });\n    };\n\n    _this.handleBlur = function (event) {\n      var name = event.target.name;\n\n      _this.setState({\n        touch: _objectSpread({}, _this.state.touch, _defineProperty({}, name, true))\n      });\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n    };\n\n    _this.handleSelectImage = function (img) {\n      _this.setState({\n        user: _objectSpread({}, _this.state.user, {\n          imageURL: img\n        })\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          user = _this$state.user,\n          errors = _this$state.errors,\n          touch = _this$state.touch;\n      return React.createElement(\"div\", {\n        className: \"login shadow-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"login-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"Hi \", user.name, \", you can change your profile information except your email\"), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"nameRegister\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Name\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control \".concat(touch.name && errors.name && 'is-invalid'),\n        id: \"nameRegister\",\n        name: \"name\",\n        placeholder: \"Name...\",\n        onChange: this.handleChange,\n        onBlur: this.handleBlur,\n        value: user.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"invalid-feedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, errors.name)), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"surnameRegister\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Surname\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control \".concat(touch.surname && errors.surname && 'is-invalid'),\n        id: \"surnameRegister\",\n        name: \"surname\",\n        placeholder: \"Surname...\",\n        onChange: this.handleChange,\n        onBlur: this.handleBlur,\n        value: user.surname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"invalid-feedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, errors.surname)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Meter aqui el img de origen y un collapse\"), React.createElement(\"div\", {\n        className: \"row p-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, avatar.map(function (img, index) {\n        return React.createElement(\"div\", {\n          key: index,\n          onClick: function onClick() {\n            return _this2.handleSelectImage(img);\n          },\n          className: \"student \\n                      \".concat(user.imageURL.includes(img) && 'student-selected'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: img,\n          alt: \"avatar\",\n          className: \"image-profile\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }));\n      }))), React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-info w-100 mt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Save changes\"))));\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nexport default withAuthConsumer(Profile);","map":{"version":3,"sources":["/Users/sergioortega/Desktop/coolSchool/web-coolSchool/src/components/auth/Profile.js"],"names":["React","Component","authService","withAuthConsumer","imagesAvatar","avatar","Object","values","validations","name","value","message","surname","Profile","state","user","props","imageURL","errors","touch","handleChange","event","target","setState","handleBlur","handleSubmit","preventDefault","handleSelectImage","img","map","index","includes"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport authService from '../../services/auth-service';\nimport { withAuthConsumer } from '../../contexts/AuthStore';\nimport imagesAvatar from '../../data/imagesAvatar';\n\n\n\nconst avatar = Object.values(imagesAvatar)\n\nconst validations = {\n  name: (value) => {\n    let message;\n    if(!value){\n      message = 'Name is required'\n    }\n    return message;\n  },\n  surname: (value) => {\n    let message;\n    if(!value){\n      message = 'Surname is required'\n    }\n    return message;\n  }\n}\n\nclass Profile extends Component {\n  state = {\n    user: {\n      name: this.props.user.name,\n      surname: this.props.user.name,\n      imageURL: this.props.user.imageURL\n    },\n    errors: {\n      name: validations.name(),\n      surname: validations.surname()\n    },\n    touch: {}\n  }\n\n  \n\n\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({\n      user: {\n        ...this.state.user,\n        [name]: value\n      },\n      errors: {\n        ...this.state.errors,\n        [name]: validations[name] && validations[name](value)\n      }\n    })\n  }\n\n  handleBlur = (event) => {\n    const { name } = event.target;\n    this.setState({\n      touch: {\n        ...this.state.touch,\n        [name]: true\n      }\n    })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    \n  }\n\n  handleSelectImage = (img) => {\n    \n    this.setState({\n      user: {\n        ...this.state.user,\n        imageURL: img\n      }\n    })\n  }\n\n\n  render(){\n    const { user, errors, touch } = this.state;\n\n    return(\n      <div className=\"login shadow-sm\">\n        <div className=\"login-body\">\n          <p>Hi {user.name}, you can change your profile information except your email</p>\n            <form onSubmit={this.handleSubmit}>\n              <div className=\"form-group\">\n                <label htmlFor=\"nameRegister\">Name</label>\n                <input type=\"text\" \n                  className={`form-control ${touch.name && errors.name && 'is-invalid'}`} \n                  id=\"nameRegister\" \n                  name=\"name\"\n                  placeholder=\"Name...\"\n                  onChange={this.handleChange}\n                  onBlur={this.handleBlur}\n                  value={user.name}\n                  />\n                  <div className=\"invalid-feedback\">{errors.name}</div>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"surnameRegister\">Surname</label>\n                <input type=\"text\"\n                  className={`form-control ${touch.surname && errors.surname && 'is-invalid'}`} \n                  id=\"surnameRegister\" \n                  name=\"surname\"\n                  placeholder=\"Surname...\"\n                  onChange={this.handleChange}\n                  onBlur={this.handleBlur}\n                  value={user.surname}\n                  />\n                  <div className=\"invalid-feedback\">{errors.surname}</div>\n              </div>\n              <div>\n                <img />\n                <p>Meter aqui el img de origen y un collapse</p>\n                <div className=\"row p-2\">\n                  {avatar.map((img, index) => \n                  <div key={index} \n                    onClick={() => this.handleSelectImage(img)}\n                    className={`student \n                      ${user.imageURL.includes(img) && 'student-selected'}`}\n                    >\n                    <img src={img} alt=\"avatar\" className=\"image-profile\"/>\n                  </div>\n                  )}\n                </div>\n              </div>\n              \n              \n              \n\n              \n                <button type=\"submit\" className=\"btn btn-info w-100 mt-3\">Save changes</button>\n            </form>\n            \n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withAuthConsumer(Profile);"]},"metadata":{},"sourceType":"module"}