{"ast":null,"code":"import _defineProperty from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/src/components/classroom/AddStudent.js\";\nimport React, { Component } from 'react';\nimport { withAuthConsumer } from '../../contexts/AuthStore';\nimport classroomService from '../../services/classroom-service';\nimport { Button, Modal, FormControl, InputGroup } from 'react-bootstrap'; // eslint-disable-next-line no-useless-escape\n\nvar EMAIL_PATTERN = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\nvar validations = {\n  email: function email(value) {\n    var message;\n\n    if (!value) {\n      message = 'Email is required';\n    } else if (!EMAIL_PATTERN.test(value)) {\n      message = 'Invalid email pattern';\n    }\n\n    return message;\n  }\n};\n\nvar AddStudent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddStudent, _Component);\n\n  function AddStudent() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, AddStudent);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AddStudent)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      students: [],\n      email: '',\n      errors: {\n        email: validations.email()\n      },\n      touch: {}\n    };\n\n    _this.handleChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState({\n        students: _objectSpread({}, _this.state.students, _defineProperty({}, name, value)),\n        errors: _objectSpread({}, _this.state.errors, _defineProperty({}, name, validations[name] && validations[name](value)))\n      });\n    };\n\n    _this.handleBLur = function (event) {\n      var name = event.target.name;\n\n      _this.setState(_objectSpread({}, _this.state.touch, _defineProperty({}, name, true)));\n    };\n\n    _this.addStudents = function (event) {\n      event.preventDefault();\n\n      var classroomData = _objectSpread({}, _this.state.classroom);\n\n      classroomService.editClassroom(classroomData) //.then(this.props.fetchClassrooms)\n      .then(_this.setState({\n        show: false\n      }));\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        show: false\n      });\n    };\n\n    _this.handleShow = function () {\n      _this.setState({\n        show: true\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(AddStudent, [{\n    key: \"render\",\n    value: function render() {\n      var _this$setState = this.setState,\n          errors = _this$setState.errors,\n          students = _this$setState.students,\n          email = _this$setState.email;\n      return React.createElement(React.Fragment, null, React.createElement(Button, {\n        variant: \"outline-info ml-3\",\n        onClick: this.handleShow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"+\"), React.createElement(Modal, {\n        show: this.state.show,\n        onHide: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Add News Students\")), React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(InputGroup, {\n        className: \"mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        placeholder: \"Student email...\",\n        name: \"email\",\n        value: email,\n        onBlur: this.handleBlur,\n        onCHange: this.addStudents,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(InputGroup.Append, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"outline-secondary\",\n        onClick: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"+ Add\"))), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \" Nombre y mail del alumno\"))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"Save students\"))));\n    }\n  }]);\n\n  return AddStudent;\n}(Component);\n\nexport default withAuthConsumer(AddStudent);","map":{"version":3,"sources":["/Users/sergioortega/Desktop/coolSchool/web-coolSchool/src/components/classroom/AddStudent.js"],"names":["React","Component","withAuthConsumer","classroomService","Button","Modal","FormControl","InputGroup","EMAIL_PATTERN","validations","email","value","message","test","AddStudent","state","students","errors","touch","handleChange","event","target","name","setState","handleBLur","addStudents","preventDefault","classroomData","classroom","editClassroom","then","show","handleClose","handleShow","handleBlur"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { withAuthConsumer } from '../../contexts/AuthStore';\nimport classroomService from '../../services/classroom-service';\nimport { Button, Modal, FormControl, InputGroup } from 'react-bootstrap';\n\n// eslint-disable-next-line no-useless-escape\nconst EMAIL_PATTERN = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\nconst validations = { \n  email: (value) => {\n  let message;\n  if(!value){\n    message = 'Email is required'\n  } \n  else if(!EMAIL_PATTERN.test(value)){\n    message = 'Invalid email pattern'\n  }\n  return message;\n}}\n\nclass AddStudent extends Component {\n  state = {\n    students: [],\n    email: '',\n    errors: {\n      email: validations.email(),\n    },\n    touch: {}\n  }\n\n  handleChange = (event) => {\n\n    const { name, value } = event.target;\n\n    this.setState({ \n      students: {\n        ...this.state.students,\n        [name]: value\n      },\n      errors: {\n        ...this.state.errors,\n        [name]: validations[name] && validations[name](value)\n      }\n    })\n  }\n\n  handleBLur = (event) => {\n    const { name } = event.target;\n  \n    this.setState({\n      ...this.state.touch,\n      [name]: true\n    })\n  }\n\n  addStudents = (event) => {\n    event.preventDefault();\n    \n    const classroomData = {\n      ...this.state.classroom\n    }\n    classroomService.editClassroom(classroomData)\n    //.then(this.props.fetchClassrooms)\n    .then(this.setState({ show: false }))\n  }\n\n\n  handleClose = () => {\n    this.setState({ show: false });\n  }\n\n  handleShow = () => {\n    this.setState({ show: true });\n  }\n\n\n  render() {\n    const { errors, students, email } = this.setState\n    \n    return(\n      <>\n        <Button variant=\"outline-info ml-3\" onClick={this.handleShow}>\n          +\n        </Button>\n\n        <Modal show={this.state.show} onHide={this.handleClose}>\n          <Modal.Header closeButton>\n            <Modal.Title>Add News Students</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <InputGroup className=\"mb-3\">\n              <FormControl\n                placeholder=\"Student email...\"\n                name=\"email\" \n                value={email}\n                onBlur={this.handleBlur}\n                onCHange={this.addStudents}\n              />\n              {/* <div className=\"invalid-feedback\">{errors.email}</div> */}\n              <InputGroup.Append>\n                <Button variant=\"outline-secondary\" onClick={this.handleChange}>+ Add</Button>\n              </InputGroup.Append>\n            </InputGroup>\n            <ul>\n              <li> Nombre y mail del alumno</li>\n            </ul>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"primary\" >\n              Save students\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </>\n    )\n  }\n}\n\nexport default withAuthConsumer(AddStudent);"]},"metadata":{},"sourceType":"module"}