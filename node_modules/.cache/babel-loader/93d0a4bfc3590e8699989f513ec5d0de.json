{"ast":null,"code":"'use strict';\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar React = require('react');\n\nvar sizerStyle = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  visibility: 'hidden',\n  height: 0,\n  overflow: 'scroll',\n  whiteSpace: 'pre'\n};\nvar AutosizeInput = React.createClass({\n  displayName: 'AutosizeInput',\n  propTypes: {\n    className: React.PropTypes.string,\n    // className for the outer element\n    defaultValue: React.PropTypes.any,\n    // default field value\n    inputClassName: React.PropTypes.string,\n    // className for the input element\n    inputStyle: React.PropTypes.object,\n    // css styles for the input element\n    minWidth: React.PropTypes.oneOfType([// minimum width for input element\n    React.PropTypes.number, React.PropTypes.string]),\n    onChange: React.PropTypes.func,\n    // onChange handler: function(newValue) {}\n    placeholder: React.PropTypes.string,\n    // placeholder text\n    placeholderIsMinWidth: React.PropTypes.bool,\n    // don't collapse size to less than the placeholder\n    style: React.PropTypes.object,\n    // css styles for the outer element\n    value: React.PropTypes.any\n  },\n  // field value\n  getDefaultProps: function getDefaultProps() {\n    return {\n      minWidth: 1\n    };\n  },\n  getInitialState: function getInitialState() {\n    return {\n      inputWidth: this.props.minWidth\n    };\n  },\n  componentDidMount: function componentDidMount() {\n    this.copyInputStyles();\n    this.updateInputWidth();\n  },\n  componentDidUpdate: function componentDidUpdate() {\n    this.updateInputWidth();\n  },\n  copyInputStyles: function copyInputStyles() {\n    if (!this.isMounted() || !window.getComputedStyle) {\n      return;\n    }\n\n    var inputStyle = window.getComputedStyle(this.refs.input);\n\n    if (!inputStyle) {\n      return;\n    }\n\n    var widthNode = this.refs.sizer;\n    widthNode.style.fontSize = inputStyle.fontSize;\n    widthNode.style.fontFamily = inputStyle.fontFamily;\n    widthNode.style.fontWeight = inputStyle.fontWeight;\n    widthNode.style.fontStyle = inputStyle.fontStyle;\n    widthNode.style.letterSpacing = inputStyle.letterSpacing;\n\n    if (this.props.placeholder) {\n      var placeholderNode = this.refs.placeholderSizer;\n      placeholderNode.style.fontSize = inputStyle.fontSize;\n      placeholderNode.style.fontFamily = inputStyle.fontFamily;\n      placeholderNode.style.fontWeight = inputStyle.fontWeight;\n      placeholderNode.style.fontStyle = inputStyle.fontStyle;\n      placeholderNode.style.letterSpacing = inputStyle.letterSpacing;\n    }\n  },\n  updateInputWidth: function updateInputWidth() {\n    if (!this.isMounted() || typeof this.refs.sizer.scrollWidth === 'undefined') {\n      return;\n    }\n\n    var newInputWidth = undefined;\n\n    if (this.props.placeholder && (!this.props.value || this.props.value && this.props.placeholderIsMinWidth)) {\n      newInputWidth = Math.max(this.refs.sizer.scrollWidth, this.refs.placeholderSizer.scrollWidth) + 2;\n    } else {\n      newInputWidth = this.refs.sizer.scrollWidth + 2;\n    }\n\n    if (newInputWidth < this.props.minWidth) {\n      newInputWidth = this.props.minWidth;\n    }\n\n    if (newInputWidth !== this.state.inputWidth) {\n      this.setState({\n        inputWidth: newInputWidth\n      });\n    }\n  },\n  getInput: function getInput() {\n    return this.refs.input;\n  },\n  focus: function focus() {\n    this.refs.input.focus();\n  },\n  blur: function blur() {\n    this.refs.input.blur();\n  },\n  select: function select() {\n    this.refs.input.select();\n  },\n  render: function render() {\n    var sizerValue = this.props.defaultValue || this.props.value || '';\n    var wrapperStyle = this.props.style || {};\n    if (!wrapperStyle.display) wrapperStyle.display = 'inline-block';\n\n    var inputStyle = _extends({}, this.props.inputStyle);\n\n    inputStyle.width = this.state.inputWidth + 'px';\n    inputStyle.boxSizing = 'content-box';\n\n    var inputProps = _extends({}, this.props);\n\n    inputProps.className = this.props.inputClassName;\n    inputProps.style = inputStyle; // ensure props meant for `AutosizeInput` don't end up on the `input`\n\n    delete inputProps.inputClassName;\n    delete inputProps.inputStyle;\n    delete inputProps.minWidth;\n    delete inputProps.placeholderIsMinWidth;\n    return React.createElement('div', {\n      className: this.props.className,\n      style: wrapperStyle\n    }, React.createElement('input', _extends({}, inputProps, {\n      ref: 'input'\n    })), React.createElement('div', {\n      ref: 'sizer',\n      style: sizerStyle\n    }, sizerValue), this.props.placeholder ? React.createElement('div', {\n      ref: 'placeholderSizer',\n      style: sizerStyle\n    }, this.props.placeholder) : null);\n  }\n});\nmodule.exports = AutosizeInput;","map":null,"metadata":{},"sourceType":"script"}