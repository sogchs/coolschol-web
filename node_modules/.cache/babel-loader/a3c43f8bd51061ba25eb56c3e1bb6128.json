{"ast":null,"code":"import _defineProperty from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/src/components/board/CreateCard.js\";\nimport React, { Component } from 'react';\nimport { withAuthConsumer } from '../../contexts/AuthStore';\nimport { Modal, Button } from 'react-bootstrap';\nimport boardService from '../../services/board-service'; // const queryString = require('query-string');\n\nvar validators = {\n  title: function title(v) {\n    return v.length > 0;\n  },\n  description: function description(v) {\n    return v.length > 0;\n  },\n  position: function position(v) {\n    return v.length > 0;\n  },\n  column: function column(v) {\n    return v.length > 0;\n  }\n};\n\nvar CreateCard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CreateCard, _Component);\n\n  function CreateCard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CreateCard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CreateCard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      card: {\n        title: '',\n        description: '',\n        position: '',\n        column: '',\n        attach: '',\n        filePreview: ''\n      },\n      errors: {\n        title: true,\n        description: true,\n        position: true\n      },\n      touch: {},\n      onSubmit: false\n    };\n\n    _this.handleChange = function (e) {\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value,\n          files = _e$target.files;\n      var isValid = validators[name] === undefined || validators[name](value);\n\n      _this.setState({\n        card: _objectSpread({}, _this.state.card, _defineProperty({}, name, files && files[0] ? files[0] : value)),\n        errors: _objectSpread({}, _this.state.errors, _defineProperty({}, name, !isValid))\n      });\n    };\n\n    _this.handleBlur = function (e) {\n      _this.setState({\n        touch: _objectSpread({}, _this.state.touch, _defineProperty({}, e.target.name, true))\n      });\n    };\n\n    _this.postCard = function (e) {\n      e.preventDefault();\n\n      var cardData = _objectSpread({}, _this.state.card);\n\n      boardService.createCard(cardData).then(function () {\n        return _this.setState({\n          onSubmit: true\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(CreateCard, [{\n    key: \"render\",\n    value: function render() {\n      var isError = Object.values(this.state.errors).some(function (error) {\n        return error;\n      });\n      return React.createElement(React.Fragment, null, React.createElement(Button, {\n        className: \"fas fa-plus m-2 secondary\",\n        onClick: this.handleShow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      })) //   <div className=\"container col-4 mt-5\">\n      //   <form onSubmit={this.postCard}>\n      //     <FormField title=\"Title\" name=\"title\" value={this.state.card.title}\n      //       onChange={this.handleChange} icon=\"fas fa-user\" error={this.state.errors.title}\n      //       onBlur={this.handleBlur} touch={this.state.touch.title}/>\n      //     <FormField title=\"Description\" name=\"description\" value={this.state.card.description}\n      //       onChange={this.handleChange} icon=\"fas fa-at\" type=\"text\"\n      //       error={this.state.errors.description} onBlur={this.handleBlur} touch={this.state.touch.description} />\n      //     <FormField title=\"Position\" name=\"position\" value={this.state.card.position}\n      //       onChange={this.handleChange} icon=\"fas fa-key\" type=\"Number\"\n      //       error={this.state.errors.position} onBlur={this.handleBlur} touch={this.state.touch.position} />\n      //     {this.state.card.attach && <img className=\"img-upload\" src={URL.createObjectURL(this.state.card.attach)} alt=\"...\"/>}\n      //       <button type=\"button\" className=\"bot btn btn-outline-primary\">\n      //         <input \n      //             type=\"file\" \n      //             className=\"custom-file-input\" \n      //             name=\"attach\" id=\"attach\" \n      //             aria-describedby=\"attach\"\n      //             onChange={this.handleChange}\n      //             onBlur={this.handleBlur}\n      //             lang=\"es\"/> <i className=\"abc fas fa-plus\"></i>\n      //       </button>\n      //     <div className=\"control\">\n      //       <button className=\"btn btn-primary mt-3\" disabled={isError}>\n      //         <span>+ Add</span>\n      //       </button>\n      //     </div>\n      //   </form>\n      // </div>\n      ;\n    }\n  }]);\n\n  return CreateCard;\n}(Component);\n\nexport default withAuthConsumer(CreateCard);","map":{"version":3,"sources":["/Users/sergioortega/Desktop/coolSchool/web-coolSchool/src/components/board/CreateCard.js"],"names":["React","Component","withAuthConsumer","Modal","Button","boardService","validators","title","v","length","description","position","column","CreateCard","state","card","attach","filePreview","errors","touch","onSubmit","handleChange","e","target","name","value","files","isValid","undefined","setState","handleBlur","postCard","preventDefault","cardData","createCard","then","isError","Object","values","some","error","handleShow"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { withAuthConsumer } from '../../contexts/AuthStore';\nimport { Modal, Button } from 'react-bootstrap';\nimport boardService from '../../services/board-service'\n\n\n// const queryString = require('query-string');\n\nconst validators = {\n    title:     v => v.length > 0,\n    description:    v => v.length > 0,\n    position: v => v.length > 0,\n    column: v => v.length > 0\n  }\nclass CreateCard extends Component {\n\n    state = {\n        card: {\n          title: '',\n          description: '',\n          position: '',\n          column: '',\n          attach:'',\n          filePreview:''\n        },\n        errors: {\n          title: true,\n          description: true,\n          position: true\n        },\n        touch: {},\n        onSubmit: false\n      }\n\n      handleChange = (e) => {\n        const { name, value, files } = e.target;\n    \n        const isValid = validators[name] === undefined || validators[name](value);\n    \n        this.setState({\n          card: {\n            ...this.state.card,\n            [name]: (files && files[0]) ? files[0] : value\n          },\n          errors: {\n            ...this.state.errors,\n            [name]: !isValid\n          } \n          \n        })\n      }\n\n      handleBlur = (e) => {\n        this.setState({\n          touch: {\n            ...this.state.touch,\n            [e.target.name]: true\n          }\n        })\n      }\n    \n\n\n    postCard = (e) => {\n      e.preventDefault();\n  \n      const cardData = {\n        ...this.state.card\n      }\n  \n      boardService.createCard(cardData)\n        .then(() => this.setState({ onSubmit: true }))\n    }\n\n    \n\nrender(){\n  \n      const isError = Object.values(this.state.errors).some(error => error);\n    \n\n    return (\n      <>\n        <Button className=\"fas fa-plus m-2 secondary\" onClick={this.handleShow}></Button>\n\n        {/* <Modal show={show} onHide={this.handleClose}>\n          <Modal.Header closeButton>\n            <Modal.Title>Create a new Column for your board</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <form onSubmit={this.createColumn}>\n              <div className=\"form-group\">\n                <label htmlFor=\"nameClass\">Column Title</label>\n                <input type=\"text\" \n                  className={`form-control form-control-sm ${touch.title ? (errors.title ? 'is-invalid' : 'is-valid') : ''}`} \n                  id=\"nameClass\" \n                  placeholder=\"Ex. Exams for training...\"\n                  value={column.title} \n                  onChange={this.handleChange}\n                  onBlur={this.handleBlur}\n                  name=\"title\"\n                  autoComplete=\"off\"\n                  />\n              </div>\n            </form>\n          </Modal.Body>\n            <Modal.Footer>\n              <Button variant=\"info\" onClick={this.createColumn}>Create</Button>\n            </Modal.Footer>\n        </Modal> */}\n      </>\n      //   <div className=\"container col-4 mt-5\">\n      //   <form onSubmit={this.postCard}>\n      //     <FormField title=\"Title\" name=\"title\" value={this.state.card.title}\n      //       onChange={this.handleChange} icon=\"fas fa-user\" error={this.state.errors.title}\n      //       onBlur={this.handleBlur} touch={this.state.touch.title}/>\n\n      //     <FormField title=\"Description\" name=\"description\" value={this.state.card.description}\n      //       onChange={this.handleChange} icon=\"fas fa-at\" type=\"text\"\n      //       error={this.state.errors.description} onBlur={this.handleBlur} touch={this.state.touch.description} />\n\n      //     <FormField title=\"Position\" name=\"position\" value={this.state.card.position}\n      //       onChange={this.handleChange} icon=\"fas fa-key\" type=\"Number\"\n      //       error={this.state.errors.position} onBlur={this.handleBlur} touch={this.state.touch.position} />\n\n\n      //     {this.state.card.attach && <img className=\"img-upload\" src={URL.createObjectURL(this.state.card.attach)} alt=\"...\"/>}\n\n      //       <button type=\"button\" className=\"bot btn btn-outline-primary\">\n      //         <input \n      //             type=\"file\" \n      //             className=\"custom-file-input\" \n      //             name=\"attach\" id=\"attach\" \n      //             aria-describedby=\"attach\"\n      //             onChange={this.handleChange}\n      //             onBlur={this.handleBlur}\n      //             lang=\"es\"/> <i className=\"abc fas fa-plus\"></i>\n      //       </button>\n\n      //     <div className=\"control\">\n      //       <button className=\"btn btn-primary mt-3\" disabled={isError}>\n      //         <span>+ Add</span>\n      //       </button>\n      //     </div>\n      //   </form>\n      // </div>\n\n    )\n}}\n\n\nexport default withAuthConsumer(CreateCard) ;\n\n\n"]},"metadata":{},"sourceType":"module"}