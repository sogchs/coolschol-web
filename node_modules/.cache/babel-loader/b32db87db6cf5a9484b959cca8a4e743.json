{"ast":null,"code":"import _defineProperty from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/src/components/classroom/AddStudent.js\";\nimport React, { Component } from 'react';\nimport { withAuthConsumer } from '../../contexts/AuthStore';\nimport classroomService from '../../services/classroom-service';\nimport { Button, Modal, FormControl, InputGroup } from 'react-bootstrap'; // eslint-disable-next-line no-useless-escape\n\nvar EMAIL_PATTERN = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\nvar validations = {\n  email: function email(value) {\n    var message;\n\n    if (!value) {\n      message = 'Email is required';\n    } else if (!EMAIL_PATTERN.test(value)) {\n      message = 'Invalid email pattern';\n    }\n\n    return message;\n  }\n};\n\nvar AddStudent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddStudent, _Component);\n\n  function AddStudent() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, AddStudent);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AddStudent)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      students: [],\n      email: '',\n      errors: {\n        email: validations.email()\n      }\n    };\n\n    _this.handleChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState({\n        classroom: _objectSpread({}, _this.state.classroom, _defineProperty({}, name, value)),\n        errors: _objectSpread({}, _this.state.errors, _defineProperty({}, name, validations[name] && validations[name](value)))\n      });\n    };\n\n    _this.handleBLur = function (event) {\n      var name = event.target.name;\n\n      _this.setState(_objectSpread({}, _this.state.touch, _defineProperty({}, name, true)));\n    };\n\n    _this.addStudents = function (event) {\n      event.preventDefault();\n\n      var classroomData = _objectSpread({}, _this.state.classroom, {\n        teachers: _this.props.user.id\n      });\n\n      classroomService.editClassroom(classroomData).then(_this.props.fetchClassrooms).then(_this.setState({\n        show: false\n      }));\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        show: false\n      });\n    };\n\n    _this.handleShow = function () {\n      _this.setState({\n        show: true\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(AddStudent, [{\n    key: \"render\",\n    value: function render() {\n      var errors = this.setState.errors;\n      return React.createElement(React.Fragment, null, React.createElement(Button, {\n        variant: \"outline-info ml-3\",\n        onClick: this.handleShow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"+\"), React.createElement(Modal, {\n        show: this.state.show,\n        onHide: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Add News Students\")), React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(InputGroup, {\n        className: \"mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        placeholder: \"Student email...\",\n        name: \"name\",\n        value: this.state.beer.name,\n        onChange: this.handleChange,\n        error: this.state.errors.name,\n        onBlur: this.handleBlur,\n        onTouch: this.state.touch.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"invalid-feedback\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, errors.email), React.createElement(InputGroup.Append, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"outline-secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"+ Add\"))), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \" Nombre y mail del alumno\"))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"primary\",\n        onClick: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Save students\"))));\n    }\n  }]);\n\n  return AddStudent;\n}(Component);\n\nexport default withAuthConsumer(AddStudent);","map":{"version":3,"sources":["/Users/sergioortega/Desktop/coolSchool/web-coolSchool/src/components/classroom/AddStudent.js"],"names":["React","Component","withAuthConsumer","classroomService","Button","Modal","FormControl","InputGroup","EMAIL_PATTERN","validations","email","value","message","test","AddStudent","state","students","errors","handleChange","event","target","name","setState","classroom","handleBLur","touch","addStudents","preventDefault","classroomData","teachers","props","user","id","editClassroom","then","fetchClassrooms","show","handleClose","handleShow","beer","handleBlur"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { withAuthConsumer } from '../../contexts/AuthStore';\nimport classroomService from '../../services/classroom-service';\nimport { Button, Modal, FormControl, InputGroup } from 'react-bootstrap';\n\n// eslint-disable-next-line no-useless-escape\nconst EMAIL_PATTERN = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\nconst validations = { \n  email: (value) => {\n  let message;\n  if(!value){\n    message = 'Email is required'\n  } \n  else if(!EMAIL_PATTERN.test(value)){\n    message = 'Invalid email pattern'\n  }\n  return message;\n}}\n\nclass AddStudent extends Component {\n  state = {\n    students: [],\n    email: '',\n    errors: {\n      email: validations.email(),\n    }\n  }\n\n  handleChange = (event) => {\n\n    const { name, value } = event.target;\n\n    this.setState({ \n      classroom: {\n        ...this.state.classroom,\n        [name]: value\n      },\n      errors: {\n        ...this.state.errors,\n        [name]: validations[name] && validations[name](value)\n      }\n    })\n  }\n\n  handleBLur = (event) => {\n    const { name } = event.target;\n  \n    this.setState({\n      ...this.state.touch,\n      [name]: true\n    })\n  }\n\n  addStudents = (event) => {\n    event.preventDefault();\n    \n    const classroomData = {\n      ...this.state.classroom,\n      teachers: this.props.user.id\n    }\n    classroomService.editClassroom(classroomData)\n    .then(this.props.fetchClassrooms)\n    .then(this.setState({ show: false }))\n  }\n\n\n  handleClose = () => {\n    this.setState({ show: false });\n  }\n\n  handleShow = () => {\n    this.setState({ show: true });\n  }\n\n\n  render() {\n    const { errors } = this.setState\n    \n    return(\n      <>\n        <Button variant=\"outline-info ml-3\" onClick={this.handleShow}>\n          +\n        </Button>\n\n        <Modal show={this.state.show} onHide={this.handleClose}>\n          <Modal.Header closeButton>\n            <Modal.Title>Add News Students</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <InputGroup className=\"mb-3\">\n              <FormControl\n                placeholder=\"Student email...\"\n                name=\"name\" \n                value={this.state.beer.name}\n                onChange={this.handleChange}  \n                error={this.state.errors.name}\n                onBlur={this.handleBlur} \n                onTouch={this.state.touch.name}\n              />\n              <div className=\"invalid-feedback\">{errors.email}</div>\n              <InputGroup.Append>\n                <Button variant=\"outline-secondary\">+ Add</Button>\n              </InputGroup.Append>\n            </InputGroup>\n            <ul>\n              <li> Nombre y mail del alumno</li>\n            </ul>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"primary\" onClick={this.handleClose}>\n              Save students\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </>\n    )\n  }\n}\n\nexport default withAuthConsumer(AddStudent);"]},"metadata":{},"sourceType":"module"}