{"ast":null,"code":"import _defineProperty from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sergioortega/Desktop/coolSchool/web-coolSchool/src/components/classroom/CheckList.js\";\nimport React, { Component } from 'react';\nimport { Button, Modal, Form } from 'react-bootstrap';\nimport classroomService from '../../services/classroom-service';\nimport { withAuthConsumer } from '../../contexts/AuthStore';\n\nvar CheckList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CheckList, _Component);\n\n  function CheckList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CheckList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CheckList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      show: false,\n      checklist: {\n        observations: '',\n        assistants: [],\n        teacher: '',\n        classroom: '',\n        date: ''\n      }\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        show: false\n      });\n    };\n\n    _this.handleShow = function () {\n      var studentsSelected = _this.props.studentSelected.map(function (student) {\n        return student.id;\n      });\n\n      var allstudents = _this.props.classroom.students.map(function (student) {\n        return student.id;\n      }); //const assistants = this.props.classroom.students.filter(studentsSelected);\n\n\n      console.log(students);\n\n      _this.setState({\n        show: true,\n        checklist: {\n          assistants: _this.props.studentSelected.map(function (student) {\n            return student.id;\n          }),\n          teacher: _this.props.user.id,\n          classroom: _this.props.classroom.id,\n          date: new Date().toDateString()\n        }\n      });\n    };\n\n    _this.handleChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState({\n        checklist: _objectSpread({}, _this.state.checklist, _defineProperty({}, name, value))\n      });\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n\n      var checklistData = _objectSpread({}, _this.state.checklist);\n\n      classroomService.createChecklist(checklistData).then(_this.setState({\n        show: false\n      })).then(_this.props.deselectAll).then(_this.props.updateStudents);\n    };\n\n    return _this;\n  }\n\n  _createClass(CheckList, [{\n    key: \"render\",\n    value: function render(props) {\n      return React.createElement(React.Fragment, null, React.createElement(Button, {\n        variant: \"outline-secondary rounded-pill\",\n        onClick: this.handleShow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Check list\"), React.createElement(Modal, {\n        show: this.state.show,\n        onHide: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        closeButton: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Modal.Title, {\n        className: \"d-flex flex-column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Check list today\", React.createElement(\"small\", {\n        className: \"text-secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, this.state.checklist.date))), React.createElement(Modal.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"list-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"text-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Students in classroom\"), React.createElement(\"h1\", {\n        className: \"list-total\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, this.props.totalStudent), React.createElement(\"h1\", {\n        className: \"list-num\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, this.props.studentSelected.length)), React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"observationsText\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Observations\"), React.createElement(\"textarea\", {\n        className: \"form-control\",\n        id: \"observationsText\",\n        rows: \"3\",\n        name: \"observations\",\n        value: this.state.checklist.observations,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }))), React.createElement(Modal.Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"info\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Save Checklist\"))));\n    }\n  }]);\n\n  return CheckList;\n}(Component);\n\nexport default withAuthConsumer(CheckList);","map":{"version":3,"sources":["/Users/sergioortega/Desktop/coolSchool/web-coolSchool/src/components/classroom/CheckList.js"],"names":["React","Component","Button","Modal","Form","classroomService","withAuthConsumer","CheckList","state","show","checklist","observations","assistants","teacher","classroom","date","handleClose","setState","handleShow","studentsSelected","props","studentSelected","map","student","id","allstudents","students","console","log","user","Date","toDateString","handleChange","event","target","name","value","handleSubmit","preventDefault","checklistData","createChecklist","then","deselectAll","updateStudents","totalStudent","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, Modal, Form } from 'react-bootstrap';\nimport classroomService from '../../services/classroom-service';\nimport { withAuthConsumer } from '../../contexts/AuthStore';\n\n\nclass CheckList extends Component {\n    state = {\n      show: false,\n      checklist: {\n        observations: '',\n        assistants: [],\n        teacher:'',\n        classroom: '',\n        date:''\n      }\n    }\n\n    handleClose = () => {\n        this.setState({ show: false })\n      }\n    \n    handleShow = () => {\n      const studentsSelected = this.props.studentSelected.map(student => student.id);\n      const allstudents = this.props.classroom.students.map(student => student.id);\n      //const assistants = this.props.classroom.students.filter(studentsSelected);\n      console.log(students)\n\n        this.setState({ \n          show: true,\n          checklist: {\n            assistants: this.props.studentSelected.map(student => student.id),\n            teacher: this.props.user.id,\n            classroom: this.props.classroom.id,\n            date: new Date().toDateString()\n          } \n        })\n    }\n\n  \n\n    handleChange = (event) => {\n      const { name, value } = event.target;\n  \n      this.setState({ \n        checklist: {\n          ...this.state.checklist,\n          [name]: value\n        }\n      })\n    }\n\n    handleSubmit = (event) => {\n      event.preventDefault();\n    \n      const checklistData = { ...this.state.checklist }\n      \n      classroomService.createChecklist(checklistData)\n        .then(this.setState({ show: false }))\n        .then(this.props.deselectAll)\n        .then(this.props.updateStudents)\n    }\n    \n\n    render(props) {\n        return (\n            <>\n                <Button variant=\"outline-secondary rounded-pill\"  onClick={this.handleShow}>\n                    Check list\n                </Button>\n\n                <Modal show={this.state.show} onHide={this.handleClose}>\n                    <Modal.Header closeButton>\n                        <Modal.Title className=\"d-flex flex-column\">Check list today \n                        <small className=\"text-secondary\">{this.state.checklist.date}</small>\n                        </Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                      <div className=\"list-info\">\n                        <p className=\"text-info\">Students in classroom</p>\n                        <h1 className=\"list-total\">{this.props.totalStudent}</h1>\n                        <h1 className=\"list-num\">{this.props.studentSelected.length}</h1>   \n                      </div>\n                      <Form>\n                        <label htmlFor=\"observationsText\">Observations</label>\n                        <textarea className=\"form-control\" \n                          id=\"observationsText\" \n                          rows=\"3\" \n                          name=\"observations\"\n                          value={this.state.checklist.observations} \n                          onChange={this.handleChange}\n                          />\n                      </Form>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant=\"info\" onClick={this.handleSubmit}>\n                          Save Checklist\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n            </>\n        )\n    }\n\n\n}\n\nexport default withAuthConsumer(CheckList) ;"]},"metadata":{},"sourceType":"module"}